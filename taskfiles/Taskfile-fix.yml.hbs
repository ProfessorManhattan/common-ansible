---
version: '3'

tasks:

  all:
    desc: Apply automatic code formatting techniques (Prettier, Black, and Shellcheck)
    deps: [fix-formatting, {{#if hbs.python}}fix-python, {{/if}}fix-scripts]

  formatting:
    desc: Automatically format most files using Prettier
    cmds:
      - npm run fix:prettier
{{#if hbs.python}}

  python:
    desc: Automatically format Python files using Black
    cmds:
      - black --exclude '\.cache/|.*\.cache/|\.common/|.*\.common/|.git/|.*\.git/|node_modules/|.*node_modules/|roles/' .
{{/if}}

  scripts:
    desc: (Experimental) Automatically apply fixes to .sh files using Shellcheck
    cmds:
      - npm run fix:shellcheck
